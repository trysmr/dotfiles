---
name: plan-feature
description: 機能の実装計画を立案。「〜の設計を考えて」「〜の実装方針」「〜をどう実装する？」と言われた時に使用
agent: Plan
context: fork
allowed-tools:
  - Glob
  - Grep
  - Read
  - WebFetch
  - WebSearch
---

# Plan Feature

機能の実装計画を立案し、アーキテクチャ設計を行います。

## 特徴

- **Plan エージェント**: 設計・アーキテクチャに特化
- **context: fork**: メインの会話コンテキストを消費せず、計画のみ返却
- **包括的な調査**: コード探索 + Web検索で最適な設計を提案

## 使用例

```
/plan-feature ユーザー認証機能
/plan-feature 通知システムの設計
/plan-feature キャッシュ層の追加
/plan-feature APIレート制限の実装
```

## 計画立案の進め方

1. **要件の理解**: 機能の目的と制約を明確化
2. **既存コードの調査**: 関連する実装パターンを探索
3. **技術調査**: 必要に応じてWeb検索でベストプラクティスを確認
4. **設計案の作成**: 複数のアプローチを比較検討
5. **実装計画の策定**: 具体的なステップに分解

## 出力形式

計画は以下の形式で報告します：

```markdown
## 実装計画: [機能名]

### 概要
[機能の目的と範囲]

### 設計方針
[選択したアプローチとその理由]

### 実装ステップ
1. [ステップ1]
2. [ステップ2]
3. [ステップ3]

### 変更対象ファイル
- `path/to/file.ts` - [変更内容]

### 考慮事項
- [リスクや注意点]

### 代替案
- [検討した他のアプローチ]
```

## 注意事項

- 計画立案のみを行い、実際のコード変更は行いません
- 計画に基づいて実装を進める場合は、メインスレッドで作業してください
- 複雑な機能は複数回に分けて計画を立てることを推奨
