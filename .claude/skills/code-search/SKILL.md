---
name: code-search
description: コードベースを探索。「〜を探して」「〜はどこ？」「〜の実装箇所」「〜を検索」と言われた時に使用
agent: Explore
context: fork
allowed-tools:
  - Glob
  - Grep
  - Read
---

# Code Search

コードベースを効率的に探索し、関連するファイルや実装箇所を特定します。

## 特徴

- **Explore エージェント**: 探索に特化した軽量エージェントで実行
- **context: fork**: メインの会話コンテキストを消費せず、結果のみ返却
- **コスト効率**: Haiku モデルで動作するため低コスト

## 使用例

```
/code-search 認証の実装箇所
/code-search ユーザー登録のバリデーション
/code-search エラーハンドリングのパターン
/code-search API エンドポイントの定義
```

## 探索の進め方

1. **キーワード検索**: Grep でコード内のキーワードを検索
2. **ファイルパターン**: Glob で関連ファイルを特定
3. **コード読解**: Read で詳細を確認
4. **結果の整理**: 発見した箇所を構造化して報告

## 出力形式

探索結果は以下の形式で報告します：

```markdown
## 探索結果: [検索対象]

### 主要な実装箇所
- `path/to/file.ts:123` - [概要]
- `path/to/another.ts:456` - [概要]

### 関連ファイル
- `path/to/related.ts` - [役割]

### 補足
- [追加の発見事項]
```

## 注意事項

- 大規模な探索でもメインコンテキストに影響しません
- 探索結果は要約されて返却されます
- 詳細なコード内容が必要な場合は、報告された箇所を直接 Read してください
